<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xin l·ªói b√© iu</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div class="container">
        <div class="box__image">
            <img id="image" src="./hello-kitty-cry.gif" alt="">
        </div>

        <div style="display: flex; justify-content: center;">
            <svg viewBox="0 0 100 100" class="image__heart">
                <defs>
                    <!-- ClipPath ƒë·ªÉ c·∫Øt ·∫£nh theo h√¨nh tr√°i tim -->
                    <clipPath id="heartClip">
                        <path d="
        M50 30
        C 35 10, 0 25, 50 80
        C 100 25, 65 10, 50 30
      " />
                    </clipPath>
                </defs>

                <!-- ·∫¢nh ƒë∆∞·ª£c c·∫Øt theo tr√°i tim -->
                <image href="./522012455_122137746788655153_8363660709277810833_n.jpg" x="0" y="0" width="100"
                    height="100" clip-path="url(#heartClip)" preserveAspectRatio="xMidYMid slice" />

                <!-- Path ri√™ng ƒë·ªÉ l√†m ƒë∆∞·ªùng ch·∫°y cho ch·∫•m s√°ng -->
                <path id="heartPath" class="heart-stroke" d="
    M50 30
    C 35 10, 0 25, 50 80
    C 100 25, 65 10, 50 30
  " />


                <!-- Ch·∫•m s√°ng ch·∫°y theo ƒë∆∞·ªùng vi·ªÅn -->
                <circle class="glow-dot">
                    <animateMotion dur="4s" repeatCount="indefinite" rotate="auto">
                        <mpath href="#heartPath" />
                    </animateMotion>
                </circle>
            </svg>
        </div>

        <h1 class="content">B√© iuu ∆°i choo anhh xinn l·ªói nh√≥ooo üò≠ <br>
            B√© hong ch·ªçn ho·∫∑c tho√°t l√† tha l·ªói cho anh ƒë√≥</h1>

        <img class="img__walk" src="./hello-kitty-walk.gif" alt="">
    </div>
    <div class="action">
        <button id="accept">Em ch·∫•p nh·∫≠n</button>
        <button onclick="never()" id="never">Kh√¥ng bao gi·ªù</button>
    </div>





    <audio id="bg-music" src="./videoplayback.mp3"></audio>
</body>
<script>

    const arrNever = [
        'Anh bi·∫øt l·ªói r·ªìi ·∫°aaa',
        'Mong b√© tha l·ªói cho anhhh :((',
        'Anh sai r·ªìi, anh ƒë√°ng tr√°ch',
        'B√© ∆°i! ƒê·ª´ng gi·∫≠n anh n·ªØa nhooo',
        'Anh iuuu b√© nhi·ªÅu nh·∫Ømmmm'
    ]

    const arrImage = [
        './cat-1.jpg',
        './cat-2.jpg',
        './cat-3.jpg',
        './cat-4.jpg',
        './cat-5.jpg'
    ]

    function playAudio() {
        const audio = document.getElementById('bg-music');
        audio.play();
    }

    //hieu ung roi trinh duyet
    const emojis = ["üéÄ", "üíñ", "üíò", "üíó", "üíï", "ü•∞", "üòΩ", "üòª", "üå∏"];

    function createFallingEmoji() {
        const emoji = document.createElement('div');
        emoji.classList.add('emoji');
        emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];

        // Random v·ªã tr√≠ tr√°i, k√≠ch th∆∞·ªõc, th·ªùi gian r∆°i
        emoji.style.left = Math.random() * 100 + 'vw';
        emoji.style.fontSize = (Math.random() * 20 + 20) + 'px';
        emoji.style.animationDuration = (Math.random() * 2 + 3) + 's';

        document.body.appendChild(emoji); a

        // X√≥a emoji sau khi ho√†n t·∫•t animation
        setTimeout(() => {
            emoji.remove();
        }, 5000);
    }

    // T·∫°o emoji r∆°i li√™n t·ª•c
    setInterval(createFallingEmoji, 400);

    //handel accept
    const acceptElement = document.querySelector('#accept')
    const neverELement = document.querySelector('#never')
    const imageHeartElement = document.querySelector('.image__heart')
    const imageElement = document.querySelector('.image')

    acceptElement.addEventListener('click', () => {
        //phat nhac
        playAudio()
        const contentElement = document.querySelector('.content')
        const imageElement = document.querySelector('#image')
        if (contentElement) {
            contentElement.textContent = ""
            contentElement.textContent = "Anh iu b√© ,Anh h·ª©a hongg l√†m b√© bu·ªìn n·ªØa ƒëouuu :3"
            imageElement.src = ""
            imageElement.src = "./cat-yes.jpg"
            acceptElement.style.display = 'none'
            neverELement.style.display = 'none'
            imageHeartElement.style.display = 'block'
        }
    })

    let index = 0;
    const btn = document.getElementById('never');
    let canMove = true;
    let currentWidth = acceptElement.offsetWidth;
    let currentHeight = acceptElement.offsetHeight;
    let currentFontSize = parseFloat(window.getComputedStyle(acceptElement).fontSize);

    btn.addEventListener('click', () => {
        playAudio()
        if (!canMove) return; // Kh√¥ng di chuy·ªÉn n·ªØa n·∫øu ƒë√£ h·∫øt m·∫£ng

        currentWidth += 20;
        currentHeight += 20;
        currentFontSize += 2;

        acceptElement.style.width = currentWidth + 'px';
        acceptElement.style.height = currentHeight + 'px';
        acceptElement.style.fontSize = currentFontSize + 'px';

        // ƒê·ªïi text
        btn.textContent = arrNever[index];
        index++;

        // Khi ƒë·∫øn ph·∫ßn t·ª≠ cu·ªëi c√πng th√¨ kh√¥ng n√© n·ªØa
        if (index >= arrNever.length) {
            canMove = false;
            return;
        }

        // N√© chu·ªôt
        const maxX = window.innerWidth - btn.offsetWidth;
        const maxY = window.innerHeight - btn.offsetHeight;
        const randomX = Math.floor(Math.random() * maxX);
        const randomY = Math.floor(Math.random() * maxY);

        btn.style.left = `${randomX}px`;
        btn.style.top = `${randomY}px`;
    });

    // N·∫øu b·∫°n mu·ªën x·ª≠ l√Ω g√¨ ƒë√≥ khi nh·∫•n ƒë∆∞·ª£c n√∫t
    // btn.addEventListener('click', () => {
    //     if (!canMove) {
    //         alert("B√© ƒë√£ tha th·ª© cho anh r·ªìi üòç");
    //     }
    // });
</script>

</html>